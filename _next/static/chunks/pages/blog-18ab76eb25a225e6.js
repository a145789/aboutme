(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[195],{1308:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/blog",function(){return r(6948)}])},6948:function(e,t,r){"use strict";r.r(t),r.d(t,{__N_SSG:function(){return C},default:function(){return P}});var n=r(4810),l=r(8573),s=r.n(l),i=r(4066),a=r.n(i),o=r(4495),c=r(4576),u=r(5692),d=r(1138),f=r(7767),p=r.n(f),m=r(8108),h=r(825);function x(){let e=(0,c.useRef)(!1);return(0,h.L)(()=>(e.current=!0,()=>{e.current=!1}),[]),e}var y=r(2630),E=r(3656),b=r(1824);class w extends c.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=this.props.sizeRef.current;e.height=t.offsetHeight||0,e.width=t.offsetWidth||0,e.top=t.offsetTop,e.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function g({children:e,isPresent:t}){let r=(0,c.useId)(),n=(0,c.useRef)(null),l=(0,c.useRef)({width:0,height:0,top:0,left:0});return(0,c.useInsertionEffect)(()=>{let{width:e,height:s,top:i,left:a}=l.current;if(t||!n.current||!e||!s)return;n.current.dataset.motionPopId=r;let o=document.createElement("style");return document.head.appendChild(o),o.sheet&&o.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${e}px !important;
            height: ${s}px !important;
            top: ${i}px !important;
            left: ${a}px !important;
          }
        `),()=>{document.head.removeChild(o)}},[t]),c.createElement(w,{isPresent:t,childRef:n,sizeRef:l},c.cloneElement(e,{ref:n}))}let _=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:l,presenceAffectsLayout:s,mode:i})=>{let a=(0,b.h)(v),o=(0,c.useId)(),u=(0,c.useMemo)(()=>({id:o,initial:t,isPresent:r,custom:l,onExitComplete:e=>{for(let t of(a.set(e,!0),a.values()))if(!t)return;n&&n()},register:e=>(a.set(e,!1),()=>a.delete(e))}),s?void 0:[r]);return(0,c.useMemo)(()=>{a.forEach((e,t)=>a.set(t,!1))},[r]),c.useEffect(()=>{r||a.size||!n||n()},[r]),"popLayout"===i&&(e=c.createElement(g,{isPresent:r},e)),c.createElement(E.O.Provider,{value:u},e)};function v(){return new Map}var k=r(1454),N=r(1355);let j=e=>e.key||"",R=({children:e,custom:t,initial:r=!0,onExitComplete:n,exitBeforeEnter:l,presenceAffectsLayout:s=!0,mode:i="sync"})=>{var a;(0,N.k)(!l,"Replace exitBeforeEnter with mode='wait'");let o=(0,c.useContext)(k.p).forceRender||function(){let e=x(),[t,r]=(0,c.useState)(0),n=(0,c.useCallback)(()=>{e.current&&r(t+1)},[t]),l=(0,c.useCallback)(()=>y.Wi.postRender(n),[n]);return[l,t]}()[0],u=x(),d=function(e){let t=[];return c.Children.forEach(e,e=>{(0,c.isValidElement)(e)&&t.push(e)}),t}(e),f=d,p=(0,c.useRef)(new Map).current,m=(0,c.useRef)(f),E=(0,c.useRef)(new Map).current,b=(0,c.useRef)(!0);if((0,h.L)(()=>{b.current=!1,function(e,t){e.forEach(e=>{let r=j(e);t.set(r,e)})}(d,E),m.current=f}),a=()=>{b.current=!0,E.clear(),p.clear()},(0,c.useEffect)(()=>()=>a(),[]),b.current)return c.createElement(c.Fragment,null,f.map(e=>c.createElement(_,{key:j(e),isPresent:!0,initial:!!r&&void 0,presenceAffectsLayout:s,mode:i},e)));f=[...f];let w=m.current.map(j),g=d.map(j),v=w.length;for(let e=0;e<v;e++){let t=w[e];-1!==g.indexOf(t)||p.has(t)||p.set(t,void 0)}return"wait"===i&&p.size&&(f=[]),p.forEach((e,r)=>{if(-1!==g.indexOf(r))return;let l=E.get(r);if(!l)return;let a=w.indexOf(r),h=e;h||(h=c.createElement(_,{key:j(l),isPresent:!1,onExitComplete:()=>{E.delete(r),p.delete(r);let e=m.current.findIndex(e=>e.key===r);if(m.current.splice(e,1),!p.size){if(m.current=d,!1===u.current)return;o(),n&&n()}},custom:t,presenceAffectsLayout:s,mode:i},l),p.set(r,h)),f.splice(a,0,h)}),f=f.map(e=>{let t=e.key;return p.has(t)?e:c.createElement(_,{key:j(e),isPresent:!0,presenceAffectsLayout:s,mode:i},e)}),c.createElement(c.Fragment,null,p.size?f:f.map(e=>(0,c.cloneElement)(e)))};var C=!0;function P(e){let{directories:t}=e,[r,l]=(0,c.useState)("All"),i=(0,c.useMemo)(()=>["All",...t.map(e=>e.label)],[t]),f=(0,c.useMemo)(()=>{let e=t.map(e=>({...e,posts:(0,d.ih)(e.posts)}));return[{label:"All",posts:(0,d.ih)(t.flatMap(e=>{let{posts:t}=e;return t}))},...e]},[t]),h=(0,c.useMemo)(()=>(0,n.jsxs)(m.E.ul,{layout:!0,className:"w-full h-full flex flex-col items-center lt-md:mt-40px",initial:{opacity:0,scale:.4},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.4},transition:{type:"spring",stiffness:50,duration:.4},children:[(0,n.jsx)("li",{className:"text-center w-full",children:"啥也没有，换个其他啥的看看吧。"}),(0,n.jsx)("li",{className:"text-center mt-10px w-full",children:"There's nothing there, let's see if there's something else."})]}),[]),x=(0,c.useMemo)(()=>{let e=f.find(e=>{let{label:t}=e;return t===r});return(null==e?void 0:e.posts.length)?(0,n.jsx)("div",{className:"flex-1 overflow-y-auto md:scrollbar~",children:e.posts.map((e,t)=>(0,n.jsx)(m.E.div,{initial:{opacity:0,x:-40},animate:{opacity:1,x:0},exit:{opacity:0,x:-40},transition:{duration:.4,delay:.1*t},children:(0,n.jsxs)(s(),{href:"/blog/".concat(e.label,"/").concat(e.slug),target:"_blank",rel:"noreferrer noopener",className:(0,u.Z)("mt-20px block hover:shadow",p().className),children:[(0,n.jsx)("p",{className:"text-20px break-all",children:e.slug}),(0,n.jsx)("p",{className:"mt-6px text-sm text-neutral-500 tracking-tighter",children:e.createdAt})]})},e.slug))}):h},[f,h,r]);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(a(),{children:(0,n.jsx)("title",{children:"Blog"})}),(0,n.jsxs)("div",{className:"w-full h-full box-border pt-220px lt-md:pt-20px flex flex-col lt-md:px-10px overflow-x-hidden",children:[(0,n.jsx)(m.E.div,{layout:!0,className:"font-bold text-3xl font-serif mb-5 lt-md:mb-1",initial:{opacity:0,x:"-40vw",scale:.4},animate:{opacity:1,x:0,scale:1},transition:{type:"spring",stiffness:50,duration:.4,ease:[0,.71,.2,1.01]},children:"Blog"}),(0,n.jsxs)("div",{className:"flex justify-between flex-1 overflow-y-hidden",children:[(0,n.jsx)(R,{children:x}),(0,n.jsx)(m.E.ul,{layout:!0,className:(0,u.Z)("shrink-0 overflow-y-auto box-border my-20px lt-md:w-18% lt-md:border-l-2px lt-md:border-solid lt-md:ml-4px md:scrollbar~","w-".concat(o.JY,"px")),initial:{opacity:0},animate:{opacity:1},transition:{delay:.2,duration:1.2,ease:[0,.71,.2,1.01]},children:i.map(e=>(0,n.jsx)("li",{className:(0,u.Z)("mx-8px my-12px cursor-pointer break-words border-b-1px",e===r?"border-solid":"text-neutral-500"),onClick:()=>l(e),children:e},e))})]})]})]})}},7767:function(e){e.exports={style:{fontFamily:"'__SmileySansFont_c9d460', '__SmileySansFont_Fallback_c9d460'"},className:"__className_c9d460"}}},function(e){e.O(0,[774,888,179],function(){return e(e.s=1308)}),_N_E=e.O()}]);