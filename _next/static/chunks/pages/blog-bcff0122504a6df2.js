(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[195],{5339:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/blog",function(){return n(5355)}])},5355:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSG:function(){return C},default:function(){return P}});var r=n(4810),l=n(10),s=n.n(l),i=n(4076),o=n.n(i),a=n(4397),c=n(4576),u=n(6259),d=n(9249),f=n(6590),p=n.n(f),m=n(7780),h=n(4083);function x(){let e=(0,c.useRef)(!1);return(0,h.L)(()=>(e.current=!0,()=>{e.current=!1}),[]),e}var y=n(8695),w=n(5639),E=n(1356);class b extends c.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=this.props.sizeRef.current;e.height=t.offsetHeight||0,e.width=t.offsetWidth||0,e.top=t.offsetTop,e.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function g({children:e,isPresent:t}){let n=(0,c.useId)(),r=(0,c.useRef)(null),l=(0,c.useRef)({width:0,height:0,top:0,left:0});return(0,c.useInsertionEffect)(()=>{let{width:e,height:s,top:i,left:o}=l.current;if(t||!r.current||!e||!s)return;r.current.dataset.motionPopId=n;let a=document.createElement("style");return document.head.appendChild(a),a.sheet&&a.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${e}px !important;
            height: ${s}px !important;
            top: ${i}px !important;
            left: ${o}px !important;
          }
        `),()=>{document.head.removeChild(a)}},[t]),c.createElement(b,{isPresent:t,childRef:r,sizeRef:l},c.cloneElement(e,{ref:r}))}let v=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:l,presenceAffectsLayout:s,mode:i})=>{let o=(0,E.h)(_),a=(0,c.useId)(),u=(0,c.useMemo)(()=>({id:a,initial:t,isPresent:n,custom:l,onExitComplete:e=>{for(let t of(o.set(e,!0),o.values()))if(!t)return;r&&r()},register:e=>(o.set(e,!1),()=>o.delete(e))}),s?void 0:[n]);return(0,c.useMemo)(()=>{o.forEach((e,t)=>o.set(t,!1))},[n]),c.useEffect(()=>{n||o.size||!r||r()},[n]),"popLayout"===i&&(e=c.createElement(g,{isPresent:n},e)),c.createElement(w.O.Provider,{value:u},e)};function _(){return new Map}var k=n(5053),N=n(5065);let j=e=>e.key||"",R=({children:e,custom:t,initial:n=!0,onExitComplete:r,exitBeforeEnter:l,presenceAffectsLayout:s=!0,mode:i="sync"})=>{var o;(0,N.k)(!l,"Replace exitBeforeEnter with mode='wait'");let a=(0,c.useContext)(k.p).forceRender||function(){let e=x(),[t,n]=(0,c.useState)(0),r=(0,c.useCallback)(()=>{e.current&&n(t+1)},[t]);return[(0,c.useCallback)(()=>y.Wi.postRender(r),[r]),t]}()[0],u=x(),d=function(e){let t=[];return c.Children.forEach(e,e=>{(0,c.isValidElement)(e)&&t.push(e)}),t}(e),f=d,p=(0,c.useRef)(new Map).current,m=(0,c.useRef)(f),w=(0,c.useRef)(new Map).current,E=(0,c.useRef)(!0);if((0,h.L)(()=>{E.current=!1,function(e,t){e.forEach(e=>{let n=j(e);t.set(n,e)})}(d,w),m.current=f}),o=()=>{E.current=!0,w.clear(),p.clear()},(0,c.useEffect)(()=>()=>o(),[]),E.current)return c.createElement(c.Fragment,null,f.map(e=>c.createElement(v,{key:j(e),isPresent:!0,initial:!!n&&void 0,presenceAffectsLayout:s,mode:i},e)));f=[...f];let b=m.current.map(j),g=d.map(j),_=b.length;for(let e=0;e<_;e++){let t=b[e];-1!==g.indexOf(t)||p.has(t)||p.set(t,void 0)}return"wait"===i&&p.size&&(f=[]),p.forEach((e,n)=>{if(-1!==g.indexOf(n))return;let l=w.get(n);if(!l)return;let o=b.indexOf(n),h=e;h||(h=c.createElement(v,{key:j(l),isPresent:!1,onExitComplete:()=>{p.delete(n);let e=Array.from(w.keys()).filter(e=>!g.includes(e));if(e.forEach(e=>w.delete(e)),m.current=d.filter(t=>{let r=j(t);return r===n||e.includes(r)}),!p.size){if(!1===u.current)return;a(),r&&r()}},custom:t,presenceAffectsLayout:s,mode:i},l),p.set(n,h)),f.splice(o,0,h)}),f=f.map(e=>{let t=e.key;return p.has(t)?e:c.createElement(v,{key:j(e),isPresent:!0,presenceAffectsLayout:s,mode:i},e)}),c.createElement(c.Fragment,null,p.size?f:f.map(e=>(0,c.cloneElement)(e)))};var C=!0;function P(e){let{directories:t}=e,[n,l]=(0,c.useState)("All"),i=(0,c.useMemo)(()=>["All",...t.map(e=>e.label)],[t]),f=(0,c.useMemo)(()=>{let e=t.map(e=>({...e,posts:(0,d.ih)(e.posts)}));return[{label:"All",posts:(0,d.ih)(t.flatMap(e=>{let{posts:t}=e;return t}))},...e]},[t]),h=(0,c.useMemo)(()=>(0,r.jsxs)(m.E.ul,{layout:!0,className:"w-full h-full box-border pt-20px lt-md:pt-40px",style:{originX:.5,originY:.25,originZ:0},initial:{opacity:0,scale:.4},animate:{opacity:1,scale:1},transition:{type:"spring",stiffness:60,bounce:.25,duration:.4},children:[(0,r.jsx)("li",{className:"text-center w-full",children:"啥也没有，换个其他啥的看看吧。"}),(0,r.jsx)("li",{className:"text-center mt-10px w-full",children:"There's nothing there, let's see if there's something else."})]}),[]),x=(0,c.useMemo)(()=>{let e=f.find(e=>{let{label:t}=e;return t===n});return(null==e?void 0:e.posts.length)?(0,r.jsx)("div",{className:"flex-1 overflow-y-auto md:scrollbar~",children:(0,r.jsx)(R,{children:e.posts.map((e,t)=>(0,r.jsx)(m.E.div,{initial:{opacity:0,x:-40},animate:{opacity:1,x:0},exit:{opacity:0,x:-40},transition:{duration:.5,delay:.1*t},layout:!0,children:(0,r.jsxs)(s(),{href:"/blog/".concat(e.label,"/").concat(e.slug),target:"_blank",rel:"noreferrer noopener",className:(0,u.Z)("mt-20px block hover:shadow",p().className),children:[(0,r.jsx)("p",{className:"text-20px break-all",children:e.slug}),(0,r.jsx)("p",{className:"mt-6px text-sm text-neutral-500 tracking-tighter",children:e.createdAt})]})},e.slug))})}):h},[f,h,n]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o(),{children:(0,r.jsx)("title",{children:"Blog"})}),(0,r.jsxs)("div",{className:"w-full h-full box-border pt-220px lt-md:pt-20px flex flex-col lt-md:px-10px overflow-x-hidden",children:[(0,r.jsx)(m.E.div,{layout:!0,className:"font-bold text-3xl font-serif mb-5 lt-md:mb-1",initial:{opacity:0,x:"-40vw",scale:.4},animate:{opacity:1,x:0,scale:1},transition:{type:"spring",stiffness:50,duration:.4,ease:[0,.71,.2,1.01]},children:"Blog"}),(0,r.jsxs)("div",{className:"flex justify-between flex-1 overflow-y-hidden overflow-x-hidden",children:[x,(0,r.jsx)(m.E.ul,{layout:!0,className:(0,u.Z)("shrink-0 overflow-y-auto box-border my-20px lt-md:w-18% lt-md:border-l-2px lt-md:border-solid lt-md:ml-4px md:scrollbar~","w-".concat(a.JY,"px")),initial:{opacity:0,x:"30vw"},animate:{opacity:1,x:0},transition:{duration:.8,ease:[0,.71,.2,1.01]},children:i.map(e=>(0,r.jsx)("li",{className:(0,u.Z)("mx-8px my-12px cursor-pointer break-words text-underline-show transition-all duration-300 leading-6",e===n?"text-underline-show-w-96%":"text-neutral-500 text-underline-show-w-0"),onClick:()=>l(e),children:e},e))})]})]})]})}},6590:function(e){e.exports={style:{fontFamily:"'__SmileySansFont_c9d460', '__SmileySansFont_Fallback_c9d460'"},className:"__className_c9d460"}}},function(e){e.O(0,[774,888,179],function(){return e(e.s=5339)}),_N_E=e.O()}]);