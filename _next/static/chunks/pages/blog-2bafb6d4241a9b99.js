(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[195],{1308:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/blog",function(){return r(6948)}])},6948:function(e,t,r){"use strict";r.r(t),r.d(t,{__N_SSG:function(){return C},default:function(){return P}});var n=r(4810),l=r(8573),s=r.n(l),i=r(4066),o=r.n(i),a=r(4495),c=r(4576),u=r(5692),d=r(1138),p=r(7767),f=r.n(p),m=r(8108),h=r(825);function x(){let e=(0,c.useRef)(!1);return(0,h.L)(()=>(e.current=!0,()=>{e.current=!1}),[]),e}var y=r(2630),b=r(3656),w=r(1824);class E extends c.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=this.props.sizeRef.current;e.height=t.offsetHeight||0,e.width=t.offsetWidth||0,e.top=t.offsetTop,e.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function g({children:e,isPresent:t}){let r=(0,c.useId)(),n=(0,c.useRef)(null),l=(0,c.useRef)({width:0,height:0,top:0,left:0});return(0,c.useInsertionEffect)(()=>{let{width:e,height:s,top:i,left:o}=l.current;if(t||!n.current||!e||!s)return;n.current.dataset.motionPopId=r;let a=document.createElement("style");return document.head.appendChild(a),a.sheet&&a.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${e}px !important;
            height: ${s}px !important;
            top: ${i}px !important;
            left: ${o}px !important;
          }
        `),()=>{document.head.removeChild(a)}},[t]),c.createElement(E,{isPresent:t,childRef:n,sizeRef:l},c.cloneElement(e,{ref:n}))}let v=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:l,presenceAffectsLayout:s,mode:i})=>{let o=(0,w.h)(_),a=(0,c.useId)(),u=(0,c.useMemo)(()=>({id:a,initial:t,isPresent:r,custom:l,onExitComplete:e=>{for(let t of(o.set(e,!0),o.values()))if(!t)return;n&&n()},register:e=>(o.set(e,!1),()=>o.delete(e))}),s?void 0:[r]);return(0,c.useMemo)(()=>{o.forEach((e,t)=>o.set(t,!1))},[r]),c.useEffect(()=>{r||o.size||!n||n()},[r]),"popLayout"===i&&(e=c.createElement(g,{isPresent:r},e)),c.createElement(b.O.Provider,{value:u},e)};function _(){return new Map}var k=r(1454),N=r(1355);let j=e=>e.key||"",R=({children:e,custom:t,initial:r=!0,onExitComplete:n,exitBeforeEnter:l,presenceAffectsLayout:s=!0,mode:i="sync"})=>{var o;(0,N.k)(!l,"Replace exitBeforeEnter with mode='wait'");let a=(0,c.useContext)(k.p).forceRender||function(){let e=x(),[t,r]=(0,c.useState)(0),n=(0,c.useCallback)(()=>{e.current&&r(t+1)},[t]),l=(0,c.useCallback)(()=>y.Wi.postRender(n),[n]);return[l,t]}()[0],u=x(),d=function(e){let t=[];return c.Children.forEach(e,e=>{(0,c.isValidElement)(e)&&t.push(e)}),t}(e),p=d,f=(0,c.useRef)(new Map).current,m=(0,c.useRef)(p),b=(0,c.useRef)(new Map).current,w=(0,c.useRef)(!0);if((0,h.L)(()=>{w.current=!1,function(e,t){e.forEach(e=>{let r=j(e);t.set(r,e)})}(d,b),m.current=p}),o=()=>{w.current=!0,b.clear(),f.clear()},(0,c.useEffect)(()=>()=>o(),[]),w.current)return c.createElement(c.Fragment,null,p.map(e=>c.createElement(v,{key:j(e),isPresent:!0,initial:!!r&&void 0,presenceAffectsLayout:s,mode:i},e)));p=[...p];let E=m.current.map(j),g=d.map(j),_=E.length;for(let e=0;e<_;e++){let t=E[e];-1!==g.indexOf(t)||f.has(t)||f.set(t,void 0)}return"wait"===i&&f.size&&(p=[]),f.forEach((e,r)=>{if(-1!==g.indexOf(r))return;let l=b.get(r);if(!l)return;let o=E.indexOf(r),h=e;h||(h=c.createElement(v,{key:j(l),isPresent:!1,onExitComplete:()=>{b.delete(r),f.delete(r);let e=m.current.findIndex(e=>e.key===r);if(m.current.splice(e,1),!f.size){if(m.current=d,!1===u.current)return;a(),n&&n()}},custom:t,presenceAffectsLayout:s,mode:i},l),f.set(r,h)),p.splice(o,0,h)}),p=p.map(e=>{let t=e.key;return f.has(t)?e:c.createElement(v,{key:j(e),isPresent:!0,presenceAffectsLayout:s,mode:i},e)}),c.createElement(c.Fragment,null,f.size?p:p.map(e=>(0,c.cloneElement)(e)))};var C=!0;function P(e){let{directories:t}=e,[r,l]=(0,c.useState)("All"),i=(0,c.useMemo)(()=>["All",...t.map(e=>e.label)],[t]),p=(0,c.useMemo)(()=>{let e=t.map(e=>({...e,posts:(0,d.ih)(e.posts)}));return[{label:"All",posts:(0,d.ih)(t.flatMap(e=>{let{posts:t}=e;return t}))},...e]},[t]),h=(0,c.useMemo)(()=>(0,n.jsxs)(m.E.ul,{layout:!0,className:"w-full h-full box-border pt-20px lt-md:pt-40px",style:{originX:.5,originY:.25,originZ:0},initial:{opacity:0,scale:.4},animate:{opacity:1,scale:1},transition:{type:"spring",stiffness:60,bounce:.25,duration:.4},children:[(0,n.jsx)("li",{className:"text-center w-full",children:"啥也没有，换个其他啥的看看吧。"}),(0,n.jsx)("li",{className:"text-center mt-10px w-full",children:"There's nothing there, let's see if there's something else."})]}),[]),x=(0,c.useMemo)(()=>{let e=p.find(e=>{let{label:t}=e;return t===r});return(null==e?void 0:e.posts.length)?(0,n.jsx)("div",{className:"flex-1 overflow-y-auto md:scrollbar~",children:(0,n.jsx)(R,{children:e.posts.map((e,t)=>(0,n.jsx)(m.E.div,{initial:{opacity:0,x:-40},animate:{opacity:1,x:0},exit:{opacity:0,x:-40},transition:{duration:.5,delay:.1*t},children:(0,n.jsxs)(s(),{href:"/blog/".concat(e.label,"/").concat(e.slug),target:"_blank",rel:"noreferrer noopener",className:(0,u.Z)("mt-20px block hover:shadow",f().className),children:[(0,n.jsx)("p",{className:"text-20px break-all",children:e.slug}),(0,n.jsx)("p",{className:"mt-6px text-sm text-neutral-500 tracking-tighter",children:e.createdAt})]})},e.slug))})}):h},[p,h,r]);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(o(),{children:(0,n.jsx)("title",{children:"Blog"})}),(0,n.jsxs)("div",{className:"w-full h-full box-border pt-220px lt-md:pt-20px flex flex-col lt-md:px-10px overflow-x-hidden",children:[(0,n.jsx)(m.E.div,{layout:!0,className:"font-bold text-3xl font-serif mb-5 lt-md:mb-1",initial:{opacity:0,x:"-40vw",scale:.4},animate:{opacity:1,x:0,scale:1},transition:{type:"spring",stiffness:50,duration:.4,ease:[0,.71,.2,1.01]},children:"Blog"}),(0,n.jsxs)("div",{className:"flex justify-between flex-1 overflow-y-hidden overflow-x-hidden",children:[x,(0,n.jsx)(m.E.ul,{layout:!0,className:(0,u.Z)("shrink-0 overflow-y-auto box-border my-20px lt-md:w-18% lt-md:border-l-2px lt-md:border-solid lt-md:ml-4px md:scrollbar~","w-".concat(a.JY,"px")),initial:{opacity:0,x:"30vw"},animate:{opacity:1,x:0},transition:{duration:.8,ease:[0,.71,.2,1.01]},children:i.map(e=>(0,n.jsx)("li",{className:(0,u.Z)("mx-8px my-12px cursor-pointer break-words border-b-1px",e===r?"border-solid":"text-neutral-500"),onClick:()=>l(e),children:e},e))})]})]})]})}},7767:function(e){e.exports={style:{fontFamily:"'__SmileySansFont_c9d460', '__SmileySansFont_Fallback_c9d460'"},className:"__className_c9d460"}}},function(e){e.O(0,[774,888,179],function(){return e(e.s=1308)}),_N_E=e.O()}]);