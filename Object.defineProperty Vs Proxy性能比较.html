<!DOCTYPE html><html lang="en"><head>
    <meta charset="utf-8">
    <link rel="icon" href="/favicon.ico">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>a145789</title>
    <script type="module" crossorigin="" src="/aboutme/assets/app-SCAFVMVi.js"></script>
    <link rel="stylesheet" crossorigin="" href="/aboutme/assets/app-DZDWi8WY.css">
  <link rel="modulepreload" crossorigin="" href="/aboutme/assets/_id_-6Qp2R2Pu.js"><link rel="stylesheet" href="/aboutme/assets/_id_-BtHzYGCi.css"></head>
  <body>
    <div id="app" data-server-rendered="true"><main class="mx-auto w-full p-4 md:max-w-[56%] md:p-8"><div><div><p class="text-2xl font-bold">Object.defineProperty Vs Proxy性能比较</p><p class="text-sm font-bold">2024/01/16 09:52</p><hr><div class="my-markdown"><p>逛掘金的时候经常能刷到关于 <code>Vue</code> 响应式原理的文章， 经常能看到 <code>Vue3</code> 弃用 <code>Object.defineProperty</code> 转而使用 <code>Proxy</code> 来实现的原因是 <code>Proxy 性能更好</code> 。看的多了还能刷到一些文章认为 <code>Object.defineProperty</code> 性能更好，因此自己创建了一个小 <a href="https://github.com/a145789/object-defineproperty-vs-proxy" target="_blank" rel="noopener noreferrer">demo</a> 来对比二者在不同场景下的性能。</p>
<blockquote>
<p>以下测试仅在 <code>谷歌浏览器</code> 中进行，不同浏览器内核不同，结果可能有差异。可以访问此 <a href="https://a145789.github.io/object-defineproperty-vs-proxy/" target="_blank" rel="noopener noreferrer">在线地址</a> 测试其他环境下的性能。</p>
</blockquote>
<h1>封装响应式</h1>
<p>本文不会详细解析基于 <code>Object.defineProperty</code> 和 <code>Proxy</code> 的封装代码，这些内容在多数文章中已有介绍。<code>Vue3</code> 对嵌套对象的响应式处理进行了优化，采用了一种<code>惰性添加</code>的方式，仅在对象被访问时才添加响应式。相比之下，<code>Vue2</code> 采用了一次性递归处理整个对象的方式添加响应式。为了确保比较的公平性，本文下面的 <code>Object.defineProperty</code> 代码也采用了相同的惰性添加策略。</p>
<h2>Object.defineProperty</h2>
<pre class="shiki shiki-themes Lambda Studio — Whiteout" style="background-color:#fff;color:#000" tabindex="0"><code class="language-js"><span class="line"><span style="color:#0008">/**</span><span style="color:#0004"> Object.defineProperty 深度监听 </span><span style="color:#0008">*/</span></span>
<span class="line"><span style="color:#0008">export</span><span style="color:#0008"> function</span><span style="color:#000;--shiki-light-font-weight:bold"> deepDefObserve</span><span style="color:#0008">(</span><span style="color:#000">obj</span><span style="color:#0008">,</span><span style="color:#000"> week</span><span style="color:#0008">)</span><span style="color:#0008"> {</span></span>
<span class="line"><span style="color:#0008">  const</span><span style="color:#000"> keys </span><span style="color:#0008">=</span><span style="color:#000"> Object</span><span style="color:#0008">.</span><span style="color:#000">keys</span><span style="color:#0008">(</span><span style="color:#000">obj</span><span style="color:#0008">)</span></span>
<span class="line"><span style="color:#0008">  for</span><span style="color:#0008"> (let</span><span style="color:#000"> i </span><span style="color:#0008">=</span><span style="color:#0008"> 0;</span><span style="color:#000"> i </span><span style="color:#0008">&lt;</span><span style="color:#000"> keys</span><span style="color:#0008">.</span><span style="color:#000">length</span><span style="color:#0008">;</span><span style="color:#000"> i</span><span style="color:#0008">++)</span><span style="color:#0008"> {</span></span>
<span class="line"><span style="color:#0008">    const</span><span style="color:#000"> key </span><span style="color:#0008">=</span><span style="color:#000"> keys</span><span style="color:#0008">[</span><span style="color:#000">i</span><span style="color:#0008">]</span></span>
<span class="line"><span style="color:#0008">    let</span><span style="color:#000"> value </span><span style="color:#0008">=</span><span style="color:#000"> obj</span><span style="color:#0008">[</span><span style="color:#000">key</span><span style="color:#0008">]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#000">    Object</span><span style="color:#0008">.</span><span style="color:#000">defineProperty</span><span style="color:#0008">(</span><span style="color:#000">obj</span><span style="color:#0008">,</span><span style="color:#000"> key</span><span style="color:#0008">,</span><span style="color:#0008"> {</span></span>
<span class="line"><span style="color:#000">      configurable</span><span style="color:#0008">:</span><span style="color:#0008"> true,</span></span>
<span class="line"><span style="color:#000">      enumerable</span><span style="color:#0008">:</span><span style="color:#0008"> true,</span></span>
<span class="line"><span style="color:#000;--shiki-light-font-weight:bold">      get</span><span style="color:#0008">()</span><span style="color:#0008"> {</span></span>
<span class="line"><span style="color:#0008">        if</span><span style="color:#0008"> (typeof</span><span style="color:#000"> value </span><span style="color:#0008">===</span><span style="color:#0008"> 'object'</span><span style="color:#0008"> &amp;&amp;</span><span style="color:#000"> value </span><span style="color:#0008">!==</span><span style="color:#0008"> null</span><span style="color:#0008"> &amp;&amp;</span><span style="color:#000"> week </span><span style="color:#0008">&amp;&amp;</span><span style="color:#0008"> !</span><span style="color:#000">week</span><span style="color:#0008">.</span><span style="color:#000">has</span><span style="color:#0008">(</span><span style="color:#000">value</span><span style="color:#0008">))</span><span style="color:#0008"> {</span></span>
<span class="line"><span style="color:#000">          week</span><span style="color:#0008">.</span><span style="color:#000">set</span><span style="color:#0008">(</span><span style="color:#000">value</span><span style="color:#0008">,</span><span style="color:#0008"> true)</span></span>
<span class="line"><span style="color:#000">          deepDefObserve</span><span style="color:#0008">(</span><span style="color:#000">value</span><span style="color:#0008">)</span></span>
<span class="line"><span style="color:#0008">        }</span></span>
<span class="line"><span style="color:#0008">        return</span><span style="color:#000"> value</span></span>
<span class="line"><span style="color:#0008">      },</span></span>
<span class="line"><span style="color:#000;--shiki-light-font-weight:bold">      set</span><span style="color:#0008">(</span><span style="color:#000">newValue</span><span style="color:#0008">)</span><span style="color:#0008"> {</span></span>
<span class="line"><span style="color:#000">        value </span><span style="color:#0008">=</span><span style="color:#000"> newValue</span></span>
<span class="line"><span style="color:#0008">      },</span></span>
<span class="line"><span style="color:#0008">    })</span></span>
<span class="line"><span style="color:#0008">  }</span></span>
<span class="line"><span style="color:#0008">  return</span><span style="color:#000"> obj</span></span>
<span class="line"><span style="color:#0008">}</span></span></code></pre>
<h2>Proxy</h2>
<pre class="shiki shiki-themes Lambda Studio — Whiteout" style="background-color:#fff;color:#000" tabindex="0"><code class="language-js"><span class="line"><span style="color:#0008">/**</span><span style="color:#0004"> Proxy 深度监听 </span><span style="color:#0008">*/</span></span>
<span class="line"><span style="color:#0008">export</span><span style="color:#0008"> function</span><span style="color:#000;--shiki-light-font-weight:bold"> deepProxy</span><span style="color:#0008">(</span><span style="color:#000">obj</span><span style="color:#0008">,</span><span style="color:#000"> proxyWeek</span><span style="color:#0008">)</span><span style="color:#0008"> {</span></span>
<span class="line"><span style="color:#0008">  const</span><span style="color:#000"> myProxy </span><span style="color:#0008">=</span><span style="color:#0008"> new</span><span style="color:#000"> Proxy</span><span style="color:#0008">(</span><span style="color:#000">obj</span><span style="color:#0008">,</span><span style="color:#0008"> {</span></span>
<span class="line"><span style="color:#000;--shiki-light-font-weight:bold">    get</span><span style="color:#0008">(</span><span style="color:#000">target</span><span style="color:#0008">,</span><span style="color:#000"> property</span><span style="color:#0008">)</span><span style="color:#0008"> {</span></span>
<span class="line"><span style="color:#0008">      const</span><span style="color:#000"> res </span><span style="color:#0008">=</span><span style="color:#000"> Reflect</span><span style="color:#0008">.</span><span style="color:#000">get</span><span style="color:#0008">(</span><span style="color:#000">target</span><span style="color:#0008">,</span><span style="color:#000"> property</span><span style="color:#0008">)</span></span>
<span class="line"><span style="color:#0008">      if</span><span style="color:#0008"> (typeof</span><span style="color:#000"> res </span><span style="color:#0008">===</span><span style="color:#0008"> 'object'</span><span style="color:#0008"> &amp;&amp;</span><span style="color:#000"> res </span><span style="color:#0008">!==</span><span style="color:#0008"> null</span><span style="color:#0008"> &amp;&amp;</span><span style="color:#000"> proxyWeek </span><span style="color:#0008">&amp;&amp;</span><span style="color:#0008"> !</span><span style="color:#000">proxyWeek</span><span style="color:#0008">.</span><span style="color:#000">has</span><span style="color:#0008">(</span><span style="color:#000">res</span><span style="color:#0008">))</span><span style="color:#0008"> {</span></span>
<span class="line"><span style="color:#000">        proxyWeek</span><span style="color:#0008">.</span><span style="color:#000">set</span><span style="color:#0008">(</span><span style="color:#000">res</span><span style="color:#0008">,</span><span style="color:#0008"> true)</span></span>
<span class="line"><span style="color:#0008">        return</span><span style="color:#000"> deepProxy</span><span style="color:#0008">(</span><span style="color:#000">res</span><span style="color:#0008">)</span></span>
<span class="line"><span style="color:#0008">      }</span></span>
<span class="line"><span style="color:#0008">      return</span><span style="color:#000"> res</span></span>
<span class="line"><span style="color:#0008">    },</span></span>
<span class="line"><span style="color:#000;--shiki-light-font-weight:bold">    set</span><span style="color:#0008">(</span><span style="color:#000">target</span><span style="color:#0008">,</span><span style="color:#000"> property</span><span style="color:#0008">,</span><span style="color:#000"> value</span><span style="color:#0008">)</span><span style="color:#0008"> {</span></span>
<span class="line"><span style="color:#0008">      return</span><span style="color:#000"> Reflect</span><span style="color:#0008">.</span><span style="color:#000">set</span><span style="color:#0008">(</span><span style="color:#000">target</span><span style="color:#0008">,</span><span style="color:#000"> property</span><span style="color:#0008">,</span><span style="color:#000"> value</span><span style="color:#0008">)</span></span>
<span class="line"><span style="color:#0008">    },</span></span>
<span class="line"><span style="color:#0008">  })</span></span>
<span class="line"><span style="color:#0008">  return</span><span style="color:#000"> myProxy</span></span>
<span class="line"><span style="color:#0008">}</span></span></code></pre>
<h1>测试性能</h1>
<p>测试场景有五个：</p>
<ol>
<li>使用两个 <code>API</code> 创建响应式对象的耗时，即 <code>const obj = reactive({})</code> 的耗时</li>
<li>测量对已创建的响应式对象的属性进行访问的速度，即 <code>obj.a</code> 的读取时间。</li>
<li>测量修改响应式对象属性值的耗时，即执行 <code>obj.a = 1</code> 所需的时间。</li>
<li>创建多个响应式对象，并模拟访问和修改它们属性的操作，以评估在多对象场景下的性能表现。</li>
<li>针对嵌套对象进行响应式性能测试，以评估在复杂数据结构下的性能表现。</li>
</ol>
<h2>初始化性能</h2>
<pre class="shiki shiki-themes Lambda Studio — Whiteout" style="background-color:#fff;color:#000" tabindex="0"><code class="language-js"><span class="line"><span style="color:#0008">const</span><span style="color:#000"> _0_calling </span><span style="color:#0008">=</span><span style="color:#0008"> {</span></span>
<span class="line"><span style="color:#000;--shiki-light-font-weight:bold">  useObjectDefineProperty</span><span style="color:#0008">()</span><span style="color:#0008"> {</span></span>
<span class="line"><span style="color:#0008">    const</span><span style="color:#000"> data </span><span style="color:#0008">=</span><span style="color:#0008"> {</span><span style="color:#000"> a</span><span style="color:#0008">:</span><span style="color:#0008"> 1,</span><span style="color:#000"> b</span><span style="color:#0008">:</span><span style="color:#0008"> 1,</span><span style="color:#000"> c</span><span style="color:#0008">:</span><span style="color:#0008"> 1,</span><span style="color:#000"> d</span><span style="color:#0008">:</span><span style="color:#0008"> 1,</span><span style="color:#000"> e</span><span style="color:#0008">:</span><span style="color:#0008"> 1</span><span style="color:#0008"> }</span></span>
<span class="line"><span style="color:#0008">    const</span><span style="color:#000"> keys </span><span style="color:#0008">=</span><span style="color:#000"> Object</span><span style="color:#0008">.</span><span style="color:#000">keys</span><span style="color:#0008">(</span><span style="color:#000">data</span><span style="color:#0008">)</span></span>
<span class="line"><span style="color:#0008">    for</span><span style="color:#0008"> (let</span><span style="color:#000"> i </span><span style="color:#0008">=</span><span style="color:#0008"> 0;</span><span style="color:#000"> i </span><span style="color:#0008">&lt;</span><span style="color:#000"> keys</span><span style="color:#0008">.</span><span style="color:#000">length</span><span style="color:#0008">;</span><span style="color:#000"> i</span><span style="color:#0008">++)</span><span style="color:#0008"> {</span></span>
<span class="line"><span style="color:#000">      Object</span><span style="color:#0008">.</span><span style="color:#000">defineProperty</span><span style="color:#0008">(</span><span style="color:#000">data</span><span style="color:#0008">,</span><span style="color:#000"> keys</span><span style="color:#0008">[</span><span style="color:#000">i</span><span style="color:#0008">],</span><span style="color:#0008"> {</span></span>
<span class="line"><span style="color:#000;--shiki-light-font-weight:bold">        get</span><span style="color:#0008">()</span><span style="color:#0008"> {},</span></span>
<span class="line"><span style="color:#000;--shiki-light-font-weight:bold">        set</span><span style="color:#0008">()</span><span style="color:#0008"> {},</span></span>
<span class="line"><span style="color:#0008">      })</span></span>
<span class="line"><span style="color:#0008">    }</span></span>
<span class="line"><span style="color:#0008">  },</span></span>
<span class="line"><span style="color:#000;--shiki-light-font-weight:bold">  useProxy</span><span style="color:#0008">()</span><span style="color:#0008"> {</span></span>
<span class="line"><span style="color:#0008">    const</span><span style="color:#000"> data </span><span style="color:#0008">=</span><span style="color:#0008"> {</span><span style="color:#000"> a</span><span style="color:#0008">:</span><span style="color:#0008"> 1,</span><span style="color:#000"> b</span><span style="color:#0008">:</span><span style="color:#0008"> 1,</span><span style="color:#000"> c</span><span style="color:#0008">:</span><span style="color:#0008"> 1,</span><span style="color:#000"> d</span><span style="color:#0008">:</span><span style="color:#0008"> 1,</span><span style="color:#000"> e</span><span style="color:#0008">:</span><span style="color:#0008"> 1</span><span style="color:#0008"> }</span></span>
<span class="line"><span style="color:#0008">    const</span><span style="color:#000"> proxy </span><span style="color:#0008">=</span><span style="color:#0008"> new</span><span style="color:#000"> Proxy</span><span style="color:#0008">(</span><span style="color:#000">data</span><span style="color:#0008">,</span><span style="color:#0008"> {</span></span>
<span class="line"><span style="color:#000;--shiki-light-font-weight:bold">      get</span><span style="color:#0008">()</span><span style="color:#0008"> {},</span></span>
<span class="line"><span style="color:#000;--shiki-light-font-weight:bold">      set</span><span style="color:#0008">()</span><span style="color:#0008"> {},</span></span>
<span class="line"><span style="color:#0008">    })</span></span>
<span class="line"><span style="color:#0008">  },</span></span>
<span class="line"><span style="color:#0008">}</span></span></code></pre>
<p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/1ede8a5c56604d7da9cec5ca81b3a845~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=1160&amp;h=474&amp;s=47379&amp;e=png&amp;b=ffffff" alt="image.png"></p>
<p>很明显，<code>Proxy</code> 的性能优于 <code>Object.defineProperty</code>。</p>
<h2>读取性能</h2>
<pre class="shiki shiki-themes Lambda Studio — Whiteout" style="background-color:#fff;color:#000" tabindex="0"><code class="language-js"><span class="line"><span style="color:#0008">const</span><span style="color:#000"> readDefData </span><span style="color:#0008">=</span><span style="color:#000"> deepDefObserve</span><span style="color:#0008">({</span><span style="color:#000"> a</span><span style="color:#0008">:</span><span style="color:#0008"> 1,</span><span style="color:#000"> b</span><span style="color:#0008">:</span><span style="color:#0008"> 1,</span><span style="color:#000"> c</span><span style="color:#0008">:</span><span style="color:#0008"> 1,</span><span style="color:#000"> d</span><span style="color:#0008">:</span><span style="color:#0008"> 1,</span><span style="color:#000"> e</span><span style="color:#0008">:</span><span style="color:#0008"> 1</span><span style="color:#0008"> })</span></span>
<span class="line"><span style="color:#0008">const</span><span style="color:#000"> readProxyData </span><span style="color:#0008">=</span><span style="color:#000"> deepProxy</span><span style="color:#0008">({</span><span style="color:#000"> a</span><span style="color:#0008">:</span><span style="color:#0008"> 1,</span><span style="color:#000"> b</span><span style="color:#0008">:</span><span style="color:#0008"> 1,</span><span style="color:#000"> c</span><span style="color:#0008">:</span><span style="color:#0008"> 1,</span><span style="color:#000"> d</span><span style="color:#0008">:</span><span style="color:#0008"> 1,</span><span style="color:#000"> e</span><span style="color:#0008">:</span><span style="color:#0008"> 1</span><span style="color:#0008"> })</span></span>
<span class="line"><span style="color:#0008">export</span><span style="color:#0008"> const</span><span style="color:#000"> _1_read </span><span style="color:#0008">=</span><span style="color:#0008"> {</span></span>
<span class="line"><span style="color:#000;--shiki-light-font-weight:bold">  useObjectDefineProperty</span><span style="color:#0008">()</span><span style="color:#0008"> {</span></span>
<span class="line"><span style="color:#000">    readDefData</span><span style="color:#0008">.</span><span style="color:#000">a</span></span>
<span class="line"><span style="color:#000">    readDefData</span><span style="color:#0008">.</span><span style="color:#000">b</span></span>
<span class="line"><span style="color:#000">    readDefData</span><span style="color:#0008">.</span><span style="color:#000">e</span></span>
<span class="line"><span style="color:#0008">  },</span></span>
<span class="line"><span style="color:#000;--shiki-light-font-weight:bold">  useProxy</span><span style="color:#0008">()</span><span style="color:#0008"> {</span></span>
<span class="line"><span style="color:#000">    readProxyData</span><span style="color:#0008">.</span><span style="color:#000">a</span></span>
<span class="line"><span style="color:#000">    readProxyData</span><span style="color:#0008">.</span><span style="color:#000">b</span></span>
<span class="line"><span style="color:#000">    readProxyData</span><span style="color:#0008">.</span><span style="color:#000">e</span></span>
<span class="line"><span style="color:#0008">  },</span></span>
<span class="line"><span style="color:#0008">}</span></span></code></pre>
<p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/4408d9066b7c42629b18d408cba16967~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=1172&amp;h=488&amp;s=48433&amp;e=png&amp;b=ffffff" alt="image.png"></p>
<p><code>Object.defineProperty</code> 明显优于 <code>Proxy</code>。</p>
<h2>写入性能</h2>
<pre class="shiki shiki-themes Lambda Studio — Whiteout" style="background-color:#fff;color:#000" tabindex="0"><code class="language-js"><span class="line"><span style="color:#0008">const</span><span style="color:#000"> writeDefData </span><span style="color:#0008">=</span><span style="color:#000"> deepDefObserve</span><span style="color:#0008">({</span><span style="color:#000"> a</span><span style="color:#0008">:</span><span style="color:#0008"> 1,</span><span style="color:#000"> b</span><span style="color:#0008">:</span><span style="color:#0008"> 1,</span><span style="color:#000"> c</span><span style="color:#0008">:</span><span style="color:#0008"> 1,</span><span style="color:#000"> d</span><span style="color:#0008">:</span><span style="color:#0008"> 1,</span><span style="color:#000"> e</span><span style="color:#0008">:</span><span style="color:#0008"> 1</span><span style="color:#0008"> })</span></span>
<span class="line"><span style="color:#0008">const</span><span style="color:#000"> writeProxyData </span><span style="color:#0008">=</span><span style="color:#000"> deepProxy</span><span style="color:#0008">({</span><span style="color:#000"> a</span><span style="color:#0008">:</span><span style="color:#0008"> 1,</span><span style="color:#000"> b</span><span style="color:#0008">:</span><span style="color:#0008"> 1,</span><span style="color:#000"> c</span><span style="color:#0008">:</span><span style="color:#0008"> 1,</span><span style="color:#000"> d</span><span style="color:#0008">:</span><span style="color:#0008"> 1,</span><span style="color:#000"> e</span><span style="color:#0008">:</span><span style="color:#0008"> 1</span><span style="color:#0008"> })</span></span>
<span class="line"><span style="color:#0008">export</span><span style="color:#0008"> const</span><span style="color:#000"> _2_write </span><span style="color:#0008">=</span><span style="color:#0008"> {</span></span>
<span class="line"><span style="color:#000">  count</span><span style="color:#0008">:</span><span style="color:#0008"> 2,</span></span>
<span class="line"><span style="color:#000;--shiki-light-font-weight:bold">  useObjectDefineProperty</span><span style="color:#0008">()</span><span style="color:#0008"> {</span></span>
<span class="line"><span style="color:#000">    writeDefData</span><span style="color:#0008">.</span><span style="color:#000">a </span><span style="color:#0008">=</span><span style="color:#000"> _2_write</span><span style="color:#0008">.</span><span style="color:#000">count</span><span style="color:#0008">++</span></span>
<span class="line"><span style="color:#000">    writeDefData</span><span style="color:#0008">.</span><span style="color:#000">b </span><span style="color:#0008">=</span><span style="color:#000"> _2_write</span><span style="color:#0008">.</span><span style="color:#000">count</span><span style="color:#0008">++</span></span>
<span class="line"><span style="color:#0008">  },</span></span>
<span class="line"><span style="color:#000;--shiki-light-font-weight:bold">  useProxy</span><span style="color:#0008">()</span><span style="color:#0008"> {</span></span>
<span class="line"><span style="color:#000">    writeProxyData</span><span style="color:#0008">.</span><span style="color:#000">a </span><span style="color:#0008">=</span><span style="color:#000"> _2_write</span><span style="color:#0008">.</span><span style="color:#000">count</span><span style="color:#0008">++</span></span>
<span class="line"><span style="color:#000">    writeProxyData</span><span style="color:#0008">.</span><span style="color:#000">b </span><span style="color:#0008">=</span><span style="color:#000"> _2_write</span><span style="color:#0008">.</span><span style="color:#000">count</span><span style="color:#0008">++</span></span>
<span class="line"><span style="color:#0008">  },</span></span>
<span class="line"><span style="color:#0008">}</span></span></code></pre>
<p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/550fda8e434041d2beb66c7e8131be1c~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=1161&amp;h=481&amp;s=48286&amp;e=png&amp;b=ffffff" alt="image.png"></p>
<p><code>Object.defineProperty</code> 优于 <code>Proxy</code>，不过差距不大。</p>
<h2>多次创建及读写</h2>
<pre class="shiki shiki-themes Lambda Studio — Whiteout" style="background-color:#fff;color:#000" tabindex="0"><code class="language-js"><span class="line"><span style="color:#0008">export</span><span style="color:#0008"> const</span><span style="color:#000"> _4_create_read_write </span><span style="color:#0008">=</span><span style="color:#0008"> {</span></span>
<span class="line"><span style="color:#000">  count</span><span style="color:#0008">:</span><span style="color:#0008"> 2,</span></span>
<span class="line"><span style="color:#000;--shiki-light-font-weight:bold">  useObjectDefineProperty</span><span style="color:#0008">()</span><span style="color:#0008"> {</span></span>
<span class="line"><span style="color:#0008">    const</span><span style="color:#000"> data </span><span style="color:#0008">=</span><span style="color:#0008"> {</span><span style="color:#000"> a</span><span style="color:#0008">:</span><span style="color:#0008"> 1,</span><span style="color:#000"> b</span><span style="color:#0008">:</span><span style="color:#0008"> 1,</span><span style="color:#000"> c</span><span style="color:#0008">:</span><span style="color:#0008"> 1,</span><span style="color:#000"> d</span><span style="color:#0008">:</span><span style="color:#0008"> 1,</span><span style="color:#000"> e</span><span style="color:#0008">:</span><span style="color:#0008"> 1</span><span style="color:#0008"> }</span></span>
<span class="line"><span style="color:#000">    deepDefObserve</span><span style="color:#0008">(</span><span style="color:#000">data</span><span style="color:#0008">)</span></span>
<span class="line"><span style="color:#000">    data</span><span style="color:#0008">.</span><span style="color:#000">a </span><span style="color:#0008">=</span><span style="color:#000"> _4_create_read_write</span><span style="color:#0008">.</span><span style="color:#000">count</span><span style="color:#0008">++</span></span>
<span class="line"><span style="color:#000">    data</span><span style="color:#0008">.</span><span style="color:#000">b </span><span style="color:#0008">=</span><span style="color:#000"> _4_create_read_write</span><span style="color:#0008">.</span><span style="color:#000">count</span><span style="color:#0008">++</span></span>
<span class="line"><span style="color:#000">    data</span><span style="color:#0008">.</span><span style="color:#000">a</span></span>
<span class="line"><span style="color:#000">    data</span><span style="color:#0008">.</span><span style="color:#000">c</span></span>
<span class="line"><span style="color:#0008">  },</span></span>
<span class="line"><span style="color:#000">  proxyWeek</span><span style="color:#0008">:</span><span style="color:#0008"> new</span><span style="color:#000"> WeakMap</span><span style="color:#0008">(),</span></span>
<span class="line"><span style="color:#000;--shiki-light-font-weight:bold">  useProxy</span><span style="color:#0008">()</span><span style="color:#0008"> {</span></span>
<span class="line"><span style="color:#0008">    const</span><span style="color:#000"> data </span><span style="color:#0008">=</span><span style="color:#0008"> {</span><span style="color:#000"> a</span><span style="color:#0008">:</span><span style="color:#0008"> 1,</span><span style="color:#000"> b</span><span style="color:#0008">:</span><span style="color:#0008"> 1,</span><span style="color:#000"> c</span><span style="color:#0008">:</span><span style="color:#0008"> 1,</span><span style="color:#000"> d</span><span style="color:#0008">:</span><span style="color:#0008"> 1,</span><span style="color:#000"> e</span><span style="color:#0008">:</span><span style="color:#0008"> 1</span><span style="color:#0008"> }</span></span>
<span class="line"><span style="color:#0008">    const</span><span style="color:#000"> proxy </span><span style="color:#0008">=</span><span style="color:#000"> deepProxy</span><span style="color:#0008">(</span><span style="color:#000">data</span><span style="color:#0008">,</span><span style="color:#000"> _4_create_read_write</span><span style="color:#0008">.</span><span style="color:#000">proxyWeek</span><span style="color:#0008">)</span></span>
<span class="line"><span style="color:#000">    proxy</span><span style="color:#0008">.</span><span style="color:#000">a </span><span style="color:#0008">=</span><span style="color:#000"> _4_create_read_write</span><span style="color:#0008">.</span><span style="color:#000">count</span><span style="color:#0008">++</span></span>
<span class="line"><span style="color:#000">    proxy</span><span style="color:#0008">.</span><span style="color:#000">b </span><span style="color:#0008">=</span><span style="color:#000"> _4_create_read_write</span><span style="color:#0008">.</span><span style="color:#000">count</span><span style="color:#0008">++</span></span>
<span class="line"><span style="color:#000">    proxy</span><span style="color:#0008">.</span><span style="color:#000">a</span></span>
<span class="line"><span style="color:#000">    proxy</span><span style="color:#0008">.</span><span style="color:#000">c</span></span>
<span class="line"><span style="color:#0008">  },</span></span>
<span class="line"><span style="color:#0008">}</span></span></code></pre>
<p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/c29719b242b840c383a5848de73b3a4f~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=1164&amp;h=474&amp;s=50534&amp;e=png&amp;b=ffffff" alt="image.png"></p>
<p><code>Proxy</code> 优势更大，但这个场景并不多见，很少会出现一次性创建大量响应式对象的情况，对属性的读写场景更多。</p>
<h2>对嵌套对象的性能</h2>
<h3>对内部的每个属性都进行读或写操作</h3>
<pre class="shiki shiki-themes Lambda Studio — Whiteout" style="background-color:#fff;color:#000" tabindex="0"><code class="language-js"><span class="line"><span style="color:#0008">const</span><span style="color:#000"> deepProxyWeek </span><span style="color:#0008">=</span><span style="color:#0008"> new</span><span style="color:#000"> WeakMap</span><span style="color:#0008">()</span></span>
<span class="line"><span style="color:#0008">const</span><span style="color:#000"> defWeek </span><span style="color:#0008">=</span><span style="color:#0008"> new</span><span style="color:#000"> WeakMap</span><span style="color:#0008">()</span></span>
<span class="line"><span style="color:#0008">export</span><span style="color:#0008"> const</span><span style="color:#000"> _5_deep_read_write </span><span style="color:#0008">=</span><span style="color:#0008"> {</span></span>
<span class="line"><span style="color:#000">  count</span><span style="color:#0008">:</span><span style="color:#0008"> 2,</span></span>
<span class="line"><span style="color:#000">  defData</span><span style="color:#0008">:</span><span style="color:#000"> deepDefObserve</span><span style="color:#0008">(</span></span>
<span class="line"><span style="color:#0008">    {</span></span>
<span class="line"><span style="color:#000">      res</span><span style="color:#0008">:</span><span style="color:#0008"> {</span></span>
<span class="line"><span style="color:#000">        code</span><span style="color:#0008">:</span><span style="color:#0008"> 200,</span></span>
<span class="line"><span style="color:#000">        message</span><span style="color:#0008">:</span><span style="color:#0008"> {</span></span>
<span class="line"><span style="color:#000">          error</span><span style="color:#0008">:</span><span style="color:#0008"> null,</span></span>
<span class="line"><span style="color:#0008">        },</span></span>
<span class="line"><span style="color:#000">        data</span><span style="color:#0008">:</span><span style="color:#0008"> [</span></span>
<span class="line"><span style="color:#0008">          {</span></span>
<span class="line"><span style="color:#000">            id</span><span style="color:#0008">:</span><span style="color:#0008"> 1,</span></span>
<span class="line"><span style="color:#000">            name</span><span style="color:#0008">:</span><span style="color:#0008"> '1'</span><span style="color:#0008">,</span></span>
<span class="line"><span style="color:#0008">          },</span></span>
<span class="line"><span style="color:#0008">          {</span></span>
<span class="line"><span style="color:#000">            id</span><span style="color:#0008">:</span><span style="color:#0008"> 2,</span></span>
<span class="line"><span style="color:#000">            name</span><span style="color:#0008">:</span><span style="color:#0008"> '2'</span><span style="color:#0008">,</span></span>
<span class="line"><span style="color:#0008">          },</span></span>
<span class="line"><span style="color:#0008">        ],</span></span>
<span class="line"><span style="color:#0008">      },</span></span>
<span class="line"><span style="color:#0008">    },</span></span>
<span class="line"><span style="color:#000">    defWeek</span><span style="color:#0008">,</span></span>
<span class="line"><span style="color:#0008">  ),</span></span>
<span class="line"><span style="color:#000;--shiki-light-font-weight:bold">  useObjectDefineProperty</span><span style="color:#0008">()</span><span style="color:#0008"> {</span></span>
<span class="line"><span style="color:#000">    _5_deep_read_write</span><span style="color:#0008">.</span><span style="color:#000">defData</span><span style="color:#0008">.</span><span style="color:#000">res</span><span style="color:#0008">.</span><span style="color:#000">code </span><span style="color:#0008">=</span><span style="color:#000"> _5_deep_read_write</span><span style="color:#0008">.</span><span style="color:#000">count</span><span style="color:#0008">++</span></span>
<span class="line"><span style="color:#000">    _5_deep_read_write</span><span style="color:#0008">.</span><span style="color:#000">defData</span><span style="color:#0008">.</span><span style="color:#000">res</span><span style="color:#0008">.</span><span style="color:#000">data</span><span style="color:#0008">[0].</span><span style="color:#000">id </span><span style="color:#0008">=</span><span style="color:#000"> _5_deep_read_write</span><span style="color:#0008">.</span><span style="color:#000">count</span><span style="color:#0008">++</span></span>
<span class="line"><span style="color:#000">    _5_deep_read_write</span><span style="color:#0008">.</span><span style="color:#000">defData</span><span style="color:#0008">.</span><span style="color:#000">res</span><span style="color:#0008">.</span><span style="color:#000">message</span><span style="color:#0008">.</span><span style="color:#000">error</span></span>
<span class="line"><span style="color:#000">    _5_deep_read_write</span><span style="color:#0008">.</span><span style="color:#000">defData</span><span style="color:#0008">.</span><span style="color:#000">res</span><span style="color:#0008">.</span><span style="color:#000">data</span><span style="color:#0008">[0].</span><span style="color:#000">id</span></span>
<span class="line"><span style="color:#000">    _5_deep_read_write</span><span style="color:#0008">.</span><span style="color:#000">defData</span><span style="color:#0008">.</span><span style="color:#000">res</span><span style="color:#0008">.</span><span style="color:#000">data</span><span style="color:#0008">[0].</span><span style="color:#000">name</span></span>
<span class="line"><span style="color:#000">    _5_deep_read_write</span><span style="color:#0008">.</span><span style="color:#000">defData</span><span style="color:#0008">.</span><span style="color:#000">res</span><span style="color:#0008">.</span><span style="color:#000">data</span><span style="color:#0008">[1].</span><span style="color:#000">id</span></span>
<span class="line"><span style="color:#000">    _5_deep_read_write</span><span style="color:#0008">.</span><span style="color:#000">defData</span><span style="color:#0008">.</span><span style="color:#000">res</span><span style="color:#0008">.</span><span style="color:#000">data</span><span style="color:#0008">[1].</span><span style="color:#000">name</span></span>
<span class="line"><span style="color:#0008">  },</span></span>
<span class="line"><span style="color:#000">  proxyData</span><span style="color:#0008">:</span><span style="color:#000"> deepProxy</span><span style="color:#0008">(</span></span>
<span class="line"><span style="color:#0008">    {</span></span>
<span class="line"><span style="color:#000">      res</span><span style="color:#0008">:</span><span style="color:#0008"> {</span></span>
<span class="line"><span style="color:#000">        code</span><span style="color:#0008">:</span><span style="color:#0008"> 200,</span></span>
<span class="line"><span style="color:#000">        message</span><span style="color:#0008">:</span><span style="color:#0008"> {</span></span>
<span class="line"><span style="color:#000">          error</span><span style="color:#0008">:</span><span style="color:#0008"> null,</span></span>
<span class="line"><span style="color:#0008">        },</span></span>
<span class="line"><span style="color:#000">        data</span><span style="color:#0008">:</span><span style="color:#0008"> [</span></span>
<span class="line"><span style="color:#0008">          {</span></span>
<span class="line"><span style="color:#000">            id</span><span style="color:#0008">:</span><span style="color:#0008"> 1,</span></span>
<span class="line"><span style="color:#000">            name</span><span style="color:#0008">:</span><span style="color:#0008"> '1'</span><span style="color:#0008">,</span></span>
<span class="line"><span style="color:#0008">          },</span></span>
<span class="line"><span style="color:#0008">          {</span></span>
<span class="line"><span style="color:#000">            id</span><span style="color:#0008">:</span><span style="color:#0008"> 2,</span></span>
<span class="line"><span style="color:#000">            name</span><span style="color:#0008">:</span><span style="color:#0008"> '2'</span><span style="color:#0008">,</span></span>
<span class="line"><span style="color:#0008">          },</span></span>
<span class="line"><span style="color:#0008">        ],</span></span>
<span class="line"><span style="color:#0008">      },</span></span>
<span class="line"><span style="color:#0008">    },</span></span>
<span class="line"><span style="color:#000">    deepProxyWeek</span><span style="color:#0008">,</span></span>
<span class="line"><span style="color:#0008">  ),</span></span>
<span class="line"><span style="color:#000;--shiki-light-font-weight:bold">  useProxy</span><span style="color:#0008">()</span><span style="color:#0008"> {</span></span>
<span class="line"><span style="color:#000">    _5_deep_read_write</span><span style="color:#0008">.</span><span style="color:#000">proxyData</span><span style="color:#0008">.</span><span style="color:#000">res</span><span style="color:#0008">.</span><span style="color:#000">code </span><span style="color:#0008">=</span><span style="color:#000"> _5_deep_read_write</span><span style="color:#0008">.</span><span style="color:#000">count</span><span style="color:#0008">++</span></span>
<span class="line"><span style="color:#000">    _5_deep_read_write</span><span style="color:#0008">.</span><span style="color:#000">proxyData</span><span style="color:#0008">.</span><span style="color:#000">res</span><span style="color:#0008">.</span><span style="color:#000">data</span><span style="color:#0008">[0].</span><span style="color:#000">id </span><span style="color:#0008">=</span><span style="color:#000"> _5_deep_read_write</span><span style="color:#0008">.</span><span style="color:#000">count</span><span style="color:#0008">++</span></span>
<span class="line"><span style="color:#000">    _5_deep_read_write</span><span style="color:#0008">.</span><span style="color:#000">proxyData</span><span style="color:#0008">.</span><span style="color:#000">res</span><span style="color:#0008">.</span><span style="color:#000">message</span><span style="color:#0008">.</span><span style="color:#000">error</span></span>
<span class="line"><span style="color:#000">    _5_deep_read_write</span><span style="color:#0008">.</span><span style="color:#000">proxyData</span><span style="color:#0008">.</span><span style="color:#000">res</span><span style="color:#0008">.</span><span style="color:#000">data</span><span style="color:#0008">[0].</span><span style="color:#000">id</span></span>
<span class="line"><span style="color:#000">    _5_deep_read_write</span><span style="color:#0008">.</span><span style="color:#000">proxyData</span><span style="color:#0008">.</span><span style="color:#000">res</span><span style="color:#0008">.</span><span style="color:#000">data</span><span style="color:#0008">[0].</span><span style="color:#000">name</span></span>
<span class="line"><span style="color:#000">    _5_deep_read_write</span><span style="color:#0008">.</span><span style="color:#000">proxyData</span><span style="color:#0008">.</span><span style="color:#000">res</span><span style="color:#0008">.</span><span style="color:#000">data</span><span style="color:#0008">[1].</span><span style="color:#000">id</span></span>
<span class="line"><span style="color:#000">    _5_deep_read_write</span><span style="color:#0008">.</span><span style="color:#000">proxyData</span><span style="color:#0008">.</span><span style="color:#000">res</span><span style="color:#0008">.</span><span style="color:#000">data</span><span style="color:#0008">[1].</span><span style="color:#000">name</span></span>
<span class="line"><span style="color:#0008">  },</span></span>
<span class="line"><span style="color:#0008">}</span></span></code></pre>
<p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/6abc1694b9714c69baa7f414e84cf1b7~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=1163&amp;h=474&amp;s=50864&amp;e=png&amp;b=ffffff" alt="image.png"></p>
<p><code>Object.defineProperty</code> 会稍好一些，但两者的差距不大。</p>
<h3>只读取修改嵌套对象的浅层属性</h3>
<pre class="shiki shiki-themes Lambda Studio — Whiteout" style="background-color:#fff;color:#000" tabindex="0"><code class="language-js"><span class="line"><span style="color:#0008">const</span><span style="color:#000"> _6_deepProxyWeek </span><span style="color:#0008">=</span><span style="color:#0008"> new</span><span style="color:#000"> WeakMap</span><span style="color:#0008">()</span></span>
<span class="line"><span style="color:#0008">const</span><span style="color:#000"> _6_defWeek </span><span style="color:#0008">=</span><span style="color:#0008"> new</span><span style="color:#000"> WeakMap</span><span style="color:#0008">()</span></span>
<span class="line"><span style="color:#0008">export</span><span style="color:#0008"> const</span><span style="color:#000"> _6_update_top_level </span><span style="color:#0008">=</span><span style="color:#0008"> {</span></span>
<span class="line"><span style="color:#000">  count</span><span style="color:#0008">:</span><span style="color:#0008"> 2,</span></span>
<span class="line"><span style="color:#000">  defData</span><span style="color:#0008">:</span><span style="color:#000"> deepDefObserve</span><span style="color:#0008">(</span></span>
<span class="line"><span style="color:#0008">    {</span></span>
<span class="line"><span style="color:#000">      res</span><span style="color:#0008">:</span><span style="color:#0008"> {</span></span>
<span class="line"><span style="color:#000">        code</span><span style="color:#0008">:</span><span style="color:#0008"> 200,</span></span>
<span class="line"><span style="color:#000">        message</span><span style="color:#0008">:</span><span style="color:#0008"> {</span></span>
<span class="line"><span style="color:#000">          error</span><span style="color:#0008">:</span><span style="color:#0008"> null,</span></span>
<span class="line"><span style="color:#0008">        },</span></span>
<span class="line"><span style="color:#000">        data</span><span style="color:#0008">:</span><span style="color:#0008"> [</span></span>
<span class="line"><span style="color:#0008">          {</span></span>
<span class="line"><span style="color:#000">            id</span><span style="color:#0008">:</span><span style="color:#0008"> 1,</span></span>
<span class="line"><span style="color:#000">            name</span><span style="color:#0008">:</span><span style="color:#0008"> '1'</span><span style="color:#0008">,</span></span>
<span class="line"><span style="color:#0008">          },</span></span>
<span class="line"><span style="color:#0008">          {</span></span>
<span class="line"><span style="color:#000">            id</span><span style="color:#0008">:</span><span style="color:#0008"> 2,</span></span>
<span class="line"><span style="color:#000">            name</span><span style="color:#0008">:</span><span style="color:#0008"> '2'</span><span style="color:#0008">,</span></span>
<span class="line"><span style="color:#0008">          },</span></span>
<span class="line"><span style="color:#0008">        ],</span></span>
<span class="line"><span style="color:#0008">      },</span></span>
<span class="line"><span style="color:#0008">    },</span></span>
<span class="line"><span style="color:#000">    _6_deepProxyWeek</span><span style="color:#0008">,</span></span>
<span class="line"><span style="color:#0008">  ),</span></span>
<span class="line"><span style="color:#000;--shiki-light-font-weight:bold">  useObjectDefineProperty</span><span style="color:#0008">()</span><span style="color:#0008"> {</span></span>
<span class="line"><span style="color:#000">    _6_update_top_level</span><span style="color:#0008">.</span><span style="color:#000">defData</span><span style="color:#0008">.</span><span style="color:#000">res</span><span style="color:#0008">.</span><span style="color:#000">code </span><span style="color:#0008">=</span><span style="color:#000"> _6_update_top_level</span><span style="color:#0008">.</span><span style="color:#000">count</span><span style="color:#0008">++</span></span>
<span class="line"><span style="color:#000">    _6_update_top_level</span><span style="color:#0008">.</span><span style="color:#000">defData</span><span style="color:#0008">.</span><span style="color:#000">res</span><span style="color:#0008">.</span><span style="color:#000">message</span><span style="color:#0008">.</span><span style="color:#000">error</span></span>
<span class="line"><span style="color:#0008">  },</span></span>
<span class="line"><span style="color:#000">  proxyData</span><span style="color:#0008">:</span><span style="color:#000"> deepProxy</span><span style="color:#0008">(</span></span>
<span class="line"><span style="color:#0008">    {</span></span>
<span class="line"><span style="color:#000">      res</span><span style="color:#0008">:</span><span style="color:#0008"> {</span></span>
<span class="line"><span style="color:#000">        code</span><span style="color:#0008">:</span><span style="color:#0008"> 200,</span></span>
<span class="line"><span style="color:#000">        message</span><span style="color:#0008">:</span><span style="color:#0008"> {</span></span>
<span class="line"><span style="color:#000">          error</span><span style="color:#0008">:</span><span style="color:#0008"> null,</span></span>
<span class="line"><span style="color:#0008">        },</span></span>
<span class="line"><span style="color:#000">        data</span><span style="color:#0008">:</span><span style="color:#0008"> [</span></span>
<span class="line"><span style="color:#0008">          {</span></span>
<span class="line"><span style="color:#000">            id</span><span style="color:#0008">:</span><span style="color:#0008"> 1,</span></span>
<span class="line"><span style="color:#000">            name</span><span style="color:#0008">:</span><span style="color:#0008"> '1'</span><span style="color:#0008">,</span></span>
<span class="line"><span style="color:#0008">          },</span></span>
<span class="line"><span style="color:#0008">          {</span></span>
<span class="line"><span style="color:#000">            id</span><span style="color:#0008">:</span><span style="color:#0008"> 2,</span></span>
<span class="line"><span style="color:#000">            name</span><span style="color:#0008">:</span><span style="color:#0008"> '2'</span><span style="color:#0008">,</span></span>
<span class="line"><span style="color:#0008">          },</span></span>
<span class="line"><span style="color:#0008">        ],</span></span>
<span class="line"><span style="color:#0008">      },</span></span>
<span class="line"><span style="color:#0008">    },</span></span>
<span class="line"><span style="color:#000">    _6_defWeek</span><span style="color:#0008">,</span></span>
<span class="line"><span style="color:#0008">  ),</span></span>
<span class="line"><span style="color:#000;--shiki-light-font-weight:bold">  useProxy</span><span style="color:#0008">()</span><span style="color:#0008"> {</span></span>
<span class="line"><span style="color:#000">    _6_update_top_level</span><span style="color:#0008">.</span><span style="color:#000">proxyData</span><span style="color:#0008">.</span><span style="color:#000">res</span><span style="color:#0008">.</span><span style="color:#000">code </span><span style="color:#0008">=</span><span style="color:#000"> _6_update_top_level</span><span style="color:#0008">.</span><span style="color:#000">count</span><span style="color:#0008">++</span></span>
<span class="line"><span style="color:#000">    _6_update_top_level</span><span style="color:#0008">.</span><span style="color:#000">proxyData</span><span style="color:#0008">.</span><span style="color:#000">res</span><span style="color:#0008">.</span><span style="color:#000">message</span><span style="color:#0008">.</span><span style="color:#000">error</span></span>
<span class="line"><span style="color:#0008">  },</span></span>
<span class="line"><span style="color:#0008">}</span></span></code></pre>
<p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/511ce2bf724a4a2b903973b39aecee6a~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=1138&amp;h=457&amp;s=49562&amp;e=png&amp;b=ffffff" alt="image.png"></p>
<p>这个场景 <code>Proxy</code> 略优于 <code>Object.defineProperty</code> 。</p>
<h1>总结</h1>
<p><code>Proxy</code> 在对象创建时的性能明显优于<code>Object.defineProperty</code>。而在浅层对象的读写性能方面，<code>Object.defineProperty</code> 表现更好。但是当对象的嵌套深度增加时，<code>Object.defineProperty</code> 的优势会逐渐减弱。尽管在性能测试中，<code>Object.defineProperty</code> 的读写优势可能更适合实际开发场景，但在 <code>谷歌浏览器</code> 中，<code>Proxy</code> 的性能与 <code>Object.defineProperty</code> 并没有拉开太大差距。因此，<code>Vue3</code> 选择 <code>Proxy</code> 不仅仅基于性能考量，还因为 <code>Proxy</code> 提供了更为友好、现代且强大的 <code>API</code> ，使得操作更加灵活。</p>
</div></div></div></main></div>
  

</body></html>