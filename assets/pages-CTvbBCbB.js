import{C as e,S as t,T as n,_ as r,a as i,b as a,c as o,d as s,f as c,g as l,h as u,l as d,m as f,n as p,o as m,p as h,s as g,t as _,u as v,v as y,w as b,x}from"./app-SCAFVMVi.js";var S=[`value`],C=[`value`],w={class:`flex items-center gap-4px`},T={class:`text-lg font-bold text-gray-700 my-2`},E={class:`text-sm`},D={class:`space-y-1 mt-1`},O=h({__name:`index`,setup(h){let O=e([]),k=t((()=>{try{let e=window?.localStorage.getItem(`contentFilter`);if(e){let t=JSON.parse(e);if(t===`all`||Object.values(_).includes(t))return t}let t=window?.localStorage.getItem(`checkedCategories`);if(t){let e=JSON.parse(t);if(Array.isArray(e)&&e.every(e=>Object.values(_).includes(e))){if(e.includes(_.Record)&&e.includes(_.Blog))return`all`;if(e.includes(_.Record))return _.Record;if(e.includes(_.Blog))return _.Blog}}}catch{}return`all`})());y(k,e=>{try{window.localStorage.setItem(`contentFilter`,JSON.stringify(e))}catch{}});let A=g(()=>{let e=O.value.filter(e=>k.value===`all`?!0:e.category===k.value).map(e=>({title:e.title,url:e.title,date:e.date,year:e.year}));return e.sort((e,t)=>{let n=new Date(e.date);return new Date(t.date).getTime()-n.getTime()}),e.reduce((e,t)=>{let n=e.find(e=>e.year===t.year);return n?(n.article.push(t),e):(e.push({year:t.year,article:[t]}),e)},[]).sort((e,t)=>t.year-e.year)});return f(async()=>{O.value=await p()}),p().then(e=>{O.value=e}),(e,t)=>{let f=r(`RouterLink`);return u(),d(`div`,null,[t[6]||=v(`<section class="flex items-center"><a href="https://github.com/a145789" target="_blank"><img height="40" src="https://avatars.githubusercontent.com/u/37403253?v=4" width="40"></a><div class="flex items-center gap-4"><h1 class="text-xl font-semibold md:text-2xl">Clen Cat</h1><p class="text-sm font-semibold">要开心，开心，还是开心。</p></div></section><hr>`,2),o(`div`,null,[o(`span`,null,n(A.value.flatMap(e=>e.article).length)+` 条`,1),x(o(`input`,{id:`all`,type:`radio`,value:`all`,"onUpdate:modelValue":t[0]||=e=>k.value=e},null,512),[[i,k.value]]),t[3]||=o(`label`,{for:`all`},`全部`,-1),x(o(`input`,{id:`record`,type:`radio`,value:b(_).Record,"onUpdate:modelValue":t[1]||=e=>k.value=e},null,8,S),[[i,k.value]]),t[4]||=o(`label`,{for:`record`},`小记录`,-1),x(o(`input`,{id:`blog`,type:`radio`,value:b(_).Blog,"onUpdate:modelValue":t[2]||=e=>k.value=e},null,8,C),[[i,k.value]]),t[5]||=o(`label`,{for:`blog`},`博客`,-1)]),(u(!0),d(m,null,l(A.value,({year:e,article:t})=>(u(),d(`div`,{key:e},[o(`div`,w,[o(`h2`,T,n(e)+`年`,1),o(`span`,E,`(`+n(t.length)+`)`,1)]),o(`ul`,D,[(u(!0),d(m,null,l(t,e=>(u(),d(`li`,{key:e.title},[o(`div`,null,[c(f,{to:e.url},{default:a(()=>[s(n(e.title),1)]),_:2},1032,[`to`])]),o(`div`,null,n(e.date),1)]))),128))])]))),128))])}}});export{O as default};